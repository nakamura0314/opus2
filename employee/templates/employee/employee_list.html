{% extends 'employee/base.html' %}

{% block content %}
<!--GETメソッドは入力内容が、URLに反映されるので、
  それをコピーして検索すると、同じ結果が表示される-->
<form action="" method="GET">
  {{ form }}
  <button type="submit">検索</button>
</form>

<!--"mt-数値"で表のトップに余白を作る1が一番小さい-->
<table class="table table-bordered mt-5">
  <thead>
    <tr>
      <th>ID</th>
      <th>姓</th>
      <th>名</th>
      <th>メール</th>
      <th>部署</th>
      <th>部活</th>
    </tr>
  </thead>
  <tbody>
    {% for employee in employee_list %}
    <tr>
      <td>{{ employee.pk }}</td>
      <td>{{ employee.last_name }}</td>
      <td>{{ employee.first_name }}</td>
      <td>{{ employee.email }}</td>
      <td>{{ employee.department }}</td>
      <!--Many to Many Field　はforを使うことで全て取り出せることができる-->
      <td>{% for club in employee.club.all %}{{ club }},{% endfor %}</td>
    </tr>
    {% endfor %}
  </tbody>
</table>
{% include 'employee/page5.html' %}
{% endblock %}